## PRECISIONS
AMM_RESERVE_PRECISION: int = 10_000_000_000_000 ##expo = -13
BASE_PRECISION: int = AMM_RESERVE_PRECISION ##expo = -13
MARK_PRICE_PRECISION: int = 10_000_000_000 ##expo = -10
QUOTE_PRECISION: int = 1_000_000 ## expo = -6
FUNDING_PAYMENT_PRECISION: int = 10_000 ## expo = -4
MARGIN_PRECISION: int = 10_000 ## expo = -4
PEG_PRECISION: int = 1_000 ##expo = -3
BID_ASK_SPREAD_PRECISION: int = 1_000_000 ## expo = -6
PRICE_PERCISION = 1_000_000
SPOT_MARKET_WEIGHT_PRECISION = 10_000
SPOT_MARKET_IMF_PRECISION = 1_000_000

BANK_INTEREST_PRECISION: int = 1_000_000 ## expo = -6
BANK_CUMULATIVE_INTEREST_PRECISION: int = 10_000_000_000 ## expo = -10
BANK_UTILIZATION_PRECISION: int = 1_000_000 ## expo = -6
BANK_WEIGHT_PRECISION: int = MARGIN_PRECISION 

## PRECISION CONVERSIONS
PRICE_TO_PEG_PRECISION_RATIO: int = MARK_PRICE_PRECISION / PEG_PRECISION ## expo: 7
PRICE_TO_PEG_QUOTE_PRECISION_RATIO: int = MARK_PRICE_PRECISION / QUOTE_PRECISION ## expo: 4
AMM_TO_QUOTE_PRECISION_RATIO: int = AMM_RESERVE_PRECISION / QUOTE_PRECISION ## expo: 7
AMM_TIMES_PEG_TO_QUOTE_PRECISION_RATIO: int = AMM_RESERVE_PRECISION * PEG_PRECISION / QUOTE_PRECISION ## expo: 10
QUOTE_TO_BASE_AMT_FUNDING_PRECISION: int = (AMM_RESERVE_PRECISION * MARK_PRICE_PRECISION * FUNDING_PAYMENT_PRECISION / QUOTE_PRECISION)
PRICE_TO_QUOTE_PRECISION_RATIO: int = MARK_PRICE_PRECISION / QUOTE_PRECISION ## expo: 4
MARK_PRICE_TIMES_AMM_TO_QUOTE_PRECISION_RATIO: int = MARK_PRICE_PRECISION * AMM_TO_QUOTE_PRECISION_RATIO ## expo 17
PRICE_DIV_PEG = MARK_PRICE_PRECISION / PEG_PRECISION

FUNDING_EXCESS_TO_QUOTE_RATIO: int = (MARK_PRICE_PRECISION * AMM_RESERVE_PRECISION / QUOTE_PRECISION) ## expo 17

AMM_TIMES_PEG_PRECISION: int = (AMM_RESERVE_PRECISION * PEG_PRECISION) ## expo 16

## FEE REBATES
SHARE_OF_FEES_ALLOCATED_TO_CLEARING_HOUSE_NUMERATOR: int = 1
SHARE_OF_FEES_ALLOCATED_TO_CLEARING_HOUSE_DENOMINATOR: int = 2
UPDATE_K_ALLOWED_PRICE_CHANGE: int = MARK_PRICE_PRECISION / 10_000 ##.0001

## TIME PERIODS
## ONE_HOUR: int = 3600
ONE_HOUR: int = 3600
ONE_YEAR: int = 31536000
TWENTYFOUR_HOUR: int = 3600 * 24

## FEES
DEFAULT_FEE_NUMERATOR: int = 10
DEFAULT_FEE_DENOMINATOR: int = 10000
DEFAULT_DISCOUNT_TOKEN_FIRST_TIER_MINIMUM_BALANCE: int = 1_000_000_000_000 ## 1000
DEFAULT_DISCOUNT_TOKEN_FIRST_TIER_DISCOUNT_NUMERATOR: int = 20
DEFAULT_DISCOUNT_TOKEN_FIRST_TIER_DISCOUNT_DENOMINATOR: int = 100
DEFAULT_DISCOUNT_TOKEN_SECOND_TIER_MINIMUM_BALANCE: int = 100_000_000_000
DEFAULT_DISCOUNT_TOKEN_SECOND_TIER_DISCOUNT_NUMERATOR: int = 15
DEFAULT_DISCOUNT_TOKEN_SECOND_TIER_DISCOUNT_DENOMINATOR: int = 100
DEFAULT_DISCOUNT_TOKEN_THIRD_TIER_MINIMUM_BALANCE: int = 10_000_000_000
DEFAULT_DISCOUNT_TOKEN_THIRD_TIER_DISCOUNT_NUMERATOR: int = 10
DEFAULT_DISCOUNT_TOKEN_THIRD_TIER_DISCOUNT_DENOMINATOR: int = 100
DEFAULT_DISCOUNT_TOKEN_FOURTH_TIER_MINIMUM_BALANCE: int = 1_000_000_000
DEFAULT_DISCOUNT_TOKEN_FOURTH_TIER_DISCOUNT_NUMERATOR: int = 5
DEFAULT_DISCOUNT_TOKEN_FOURTH_TIER_DISCOUNT_DENOMINATOR: int = 100
DEFAULT_REFERRER_REWARD_NUMERATOR: int = 5
DEFAULT_REFERRER_REWARD_DENOMINATOR: int = 100
DEFAULT_REFEREE_DISCOUNT_NUMERATOR: int = 5
DEFAULT_REFEREE_DISCOUNT_DENOMINATOR: int = 100

## CONSTRAINTS
MAX_LIQUIDATION_SLIPPAGE: int = 10_000 ## expo = -2
MAX_LIQUIDATION_SLIPPAGE_U128: int = 10_000 ## expo = -2
MAX_MARK_TWAP_DIVERGENCE: int = 500_000 ## expo = -3
MAXIMUM_MARGIN_RATIO: int = MARGIN_PRECISION 
MINIMUM_MARGIN_RATIO: int = MARGIN_PRECISION / 50
MAX_BID_ASK_INVENTORY_SKEW_FACTOR: int = 5 * BID_ASK_SPREAD_PRECISION

## FORMULAIC REPEG / K
K_BPS_UPDATE_SCALE: int = 1_000_000 ## expo = -6 (represents 100%)
                                                ## hardcoded scale bounds for a single k update (.1% increase and .09% decrease). scaled by market curve_update_intensity
K_BPS_DECREASE_MAX: int = 22000 ## 2.2% decrease (25000/K_BPS_UPDATE_SCALE)
K_BPS_INCREASE_MAX: int = 1000 ## 10 bps increase

PEG_BPS_UPDATE_SCALE: int = 1_000_000 ## expo = -6 (represents 100%)
                                                  ## hardcoded scale bounds for a single repeg update. scaled by market curve_update_intensity
PEG_BPS_DECREASE_MAX: int = 1000 ## 10 bps decrease
PEG_BPS_INCREASE_MAX: int = 1000 ## 10 bps increase
                                             ## BANK
QUOTE_ASSET_BANK_INDEX: int = 0
